<link rel="stylesheet" href="/play/reelloop/styles.css">

    /* ... (Keeping your existing CSS exactly as is) ... */
    * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; user-select: none; touch-action: none; }
    :root { --accent-color: #2aa7ff; --bg-dark: #0b1a2e; --bg-darker: #06101d; --text-light: #e8f1ff; --sunrise: #f2c14e; }
    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(180deg, var(--bg-dark) 0%, var(--bg-darker) 100%); color: var(--text-light); min-height: 100vh; overflow: hidden; position: relative; }
    
    /* Waves */
    .waves { position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0.06; overflow: hidden; pointer-events: none; }
    .wave { position: absolute; width: 220%; height: 100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.35), transparent); animation: wave-flow 10s linear infinite; }
    .wave:nth-child(2) { animation-delay: -5s; opacity: 0.55; }
    @keyframes wave-flow { 0% { transform: translateX(-55%); } 100% { transform: translateX(0%); } }

    .container { max-width: 600px; margin: 0 auto; height: 100vh; display: flex; flex-direction: column; padding: 20px; position: relative; z-index: 1; }
    header { text-align: center; margin-bottom: 18px; display: flex; justify-content: center; align-items: center; gap: 10px; }
    h1 { font-size: 1.8rem; color: var(--accent-color); text-shadow: 0 0 18px rgba(42, 167, 255, 0.65); letter-spacing: 0.2px; }
    .fs-toggle { font-size: 1.2rem; background: none; border: 1px solid rgba(255,255,255,0.35); color: rgba(255,255,255,0.85); border-radius: 8px; padding: 3px 9px; cursor: pointer; }

    /* Stats */
    .stats { display: flex; justify-content: space-around; gap: 10px; margin-bottom: 16px; }
    .stat-box { background: rgba(255, 255, 255, 0.05); border: 2px solid rgba(42, 167, 255, 0.55); border-radius: 12px; padding: 10px 12px; flex: 1; box-shadow: 0 0 14px rgba(42, 167, 255, 0.18); text-align: center; backdrop-filter: blur(6px); }
    .stat-label { font-size: 0.78rem; opacity: 0.75; margin-bottom: 5px; }
    .stat-value { font-size: 1.18rem; font-weight: 700; color: rgba(255,255,255,0.92); }
    .stat-value.accent { color: var(--accent-color); }

    /* Game Area */
    .game-area { flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; position: relative; }
    .bobber-container { position: relative; height: 200px; width: 100%; display: flex; justify-content: center; align-items: flex-start; }
    .fishing-line { position: absolute; width: 2px; height: 150px; background: linear-gradient(180deg, rgba(230, 240, 255, 0.55), transparent); top: 0; left: 50%; transform: translateX(-50%); }
    .bobber { width: 40px; height: 40px; background: radial-gradient(circle, #ff6b6b, #b22222); border-radius: 50%; position: absolute; top: 100px; box-shadow: 0 0 18px rgba(255, 107, 107, 0.45); animation: float 2s ease-in-out infinite; }
    .bobber.nibbling { animation: nibble 0.32s ease-in-out infinite; }
    @keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-14px); } }
    @keyframes nibble { 0%, 100% { transform: translateY(0px) scale(1); } 50% { transform: translateY(-28px) scale(1.08); } }

    /* Strike Button */
    .strike-button { background: linear-gradient(135deg, var(--sunrise), #ff9f1c); color: #15223a; border: none; border-radius: 50%; width: 140px; height: 140px; font-size: 1.55rem; font-weight: 800; cursor: pointer; box-shadow: 0 0 26px rgba(242, 193, 78, 0.45); animation: pulse-glow 1s ease-in-out infinite; transition: transform 0.1s; }
    .strike-button:active { transform: scale(0.95); }
    @keyframes pulse-glow { 0%, 100% { box-shadow: 0 0 26px rgba(242, 193, 78, 0.45); } 50% { box-shadow: 0 0 44px rgba(242, 193, 78, 0.7); } }

    /* Tap Area & Handle */
    .tap-area { width: 100%; max-width: 400px; height: 220px; background: rgba(255, 255, 255, 0.04); border: 3px dashed rgba(42, 167, 255, 0.6); border-radius: 20px; display: flex; justify-content: center; align-items: center; font-size: 1.5rem; cursor: pointer; transition: all 0.1s; box-shadow: 0 0 26px rgba(42, 167, 255, 0.18); position: relative; overflow: hidden; touch-action: none; }
    .tap-area:active { background: rgba(255, 255, 255, 0.07); }
    .reel-handle-container { position: absolute; width: 140px; height: 140px; border: 4px dashed rgba(255, 255, 255, 0.28); border-radius: 50%; display: none; justify-content: center; align-items: center; pointer-events: none; }
    .reel-handle { width: 25px; height: 25px; background: var(--accent-color); border-radius: 50%; position: absolute; top: -12px; box-shadow: 0 0 12px rgba(42, 167, 255, 0.45); }
    .rotate-anim { animation: spin-handle 2s linear infinite; }
    @keyframes spin-handle { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    .tap-ripple { position: absolute; border-radius: 50%; background: radial-gradient(circle, rgba(255,255,255,0.55), transparent); pointer-events: none; animation: ripple-expand 0.6s ease-out; }
    @keyframes ripple-expand { 0% { width: 0; height: 0; opacity: 1; } 100% { width: 300px; height: 300px; opacity: 0; } }

    /* UI Elements */
    .tension-gauge { width: 100%; margin: 10px 0; }
    .gauge-bar { height: 25px; background: rgba(255, 255, 255, 0.08); border-radius: 15px; overflow: hidden; border: 2px solid rgba(42, 167, 255, 0.55); position: relative; }
    .gauge-fill { height: 100%; background: linear-gradient(90deg, #3fbf7f, #f2c14e, #ff5a5f); width: 0%; transition: width 0.1s linear; }
    .sweet-spot { position: absolute; left: 60%; width: 20%; height: 100%; border-left: 2px dashed rgba(255, 255, 255, 0.45); border-right: 2px dashed rgba(255, 255, 255, 0.45); background: rgba(63, 191, 127, 0.12); }
    .reel-progress { width: 100%; margin: 10px 0; }
    .progress-bar { height: 20px; background: rgba(255, 255, 255, 0.08); border-radius: 10px; overflow: hidden; border: 2px solid rgba(42, 167, 255, 0.55); }
    .progress-fill { height: 100%; background: var(--accent-color); width: 0%; transition: width 0.1s linear; }
    
    .fish-icon-animated { font-size: 4rem; display: inline-block; animation: fish-struggle 0.5s ease-in-out infinite; }
    @keyframes fish-struggle { 0%, 100% { transform: translateX(-10px) rotate(-5deg); } 50% { transform: translateX(10px) rotate(5deg); } }
    
    .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.94); z-index: 1000; display: none; padding: 20px; overflow-y: auto; }
    .overlay.active { display: block; }
    .collection-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 15px; }
    .fish-card { background: rgba(255, 255, 255, 0.05); border: 2px solid; border-radius: 15px; padding: 15px; text-align: center; }
    .fish-card.locked { filter: grayscale(1); opacity: 0.5; }

    .btn { background: linear-gradient(135deg, var(--accent-color), #1b6fa6); color: white; border: none; padding: 15px 30px; border-radius: 12px; font-size: 1rem; font-weight: bold; cursor: pointer; margin: 10px; }
    .btn-secondary { background: linear-gradient(135deg, #5b6470, #2c333b); }
    .hidden { display: none !important; }
    /* --- Vistas UI --- */
    .vista-panel { max-width: 800px; margin: 0 auto 18px auto; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.15); border-radius: 14px; padding: 12px 14px; }
    .vista-title { display: flex; justify-content: space-between; align-items: center; gap: 10px; margin-bottom: 10px; }
    .vista-badge { padding: 6px 10px; border-radius: 999px; font-size: 0.85rem; border: 1px solid rgba(255,255,255,0.18); background: rgba(42,167,255,0.14); }
    .vista-list { display: flex; flex-wrap: wrap; gap: 8px; }
    .vista-pill { padding: 7px 10px; border-radius: 999px; font-size: 0.85rem; border: 1px dashed rgba(255,255,255,0.22); opacity: 0.85; }
    .vista-pill.locked { opacity: 0.55; }
	.success-flash { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(242, 193, 78, 0.8); pointer-events: none; opacity: 0; z-index: 999;}
	.success-flash.active { animation: success-flash 0.5s ease-out;}
		@keyframes success-flash {0%, 100% { opacity: 0; } 50% { opacity: 0.35; }}
